"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.flattenEdges = void 0;
/**
 * Flattens response data from graphql api using edges (e.g. shopify).
 *
 * @example
 * ### GraphQL Query Response
 * ```json
 * {
 *   "data": {
 *     "products": {
 *       "edges": [
 *         {
 *           "node": {
 *             "handle": "crew-elongated-white"
 *           }
 *         }
 *       ]
 *     }
 *   }
 * }
 * ```
 *
 * ```js
 * import { flattenEdges } from '@packdigital/ripperoni-utilities';
 * const flatProducts = flattenEdges(response.data.products);
 * console.log(flatProducts);
 *
 * // [{ "handle": "crew-elongated-white" }, ...]
 * ```
 * @export
 * @param {ResponseWithEdges} data
 * @returns {object[]}
 */
function flattenEdges(data) {
    if (data.edges && Array.isArray(data.edges)) {
        return data.edges.map((edge) => (Object.assign(Object.assign({}, edge.node), { cursor: edge.cursor })));
    }
    return data;
}
exports.flattenEdges = flattenEdges;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmxhdHRlbi1lZGdlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvZmxhdHRlbi1lZGdlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQStCRztBQUNILFNBQWdCLFlBQVksQ0FBQyxJQUFTO0lBQ3BDLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUMzQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBVSxFQUFFLEVBQUUsQ0FBQyxpQ0FBTSxJQUFJLENBQUMsSUFBSSxLQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxJQUFHLENBQUMsQ0FBQztLQUNoRjtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQU5ELG9DQU1DIn0=