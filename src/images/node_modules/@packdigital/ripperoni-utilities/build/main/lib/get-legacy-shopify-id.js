"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getLegacyShopifyId = void 0;
const abab_1 = require("abab");
const is_base64_1 = __importDefault(require("is-base64"));
/**
 *
 *
 * @export
 * @param {string} id
 * @returns {string}
 */
function getLegacyShopifyId(id) {
    const decodedId = abab_1.atob(id) || '';
    const rawId = is_base64_1.default(id) ? decodedId : id;
    const result = rawId.replace(/^.*\/(\d*)\??.*?$/, '$1');
    return parseInt(result, 10);
}
exports.getLegacyShopifyId = getLegacyShopifyId;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWxlZ2FjeS1zaG9waWZ5LWlkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9nZXQtbGVnYWN5LXNob3BpZnktaWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsK0JBQTRCO0FBQzVCLDBEQUFpQztBQUVqQzs7Ozs7O0dBTUc7QUFDSCxTQUFnQixrQkFBa0IsQ0FBQyxFQUFVO0lBQzNDLE1BQU0sU0FBUyxHQUFHLFdBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDakMsTUFBTSxLQUFLLEdBQUcsbUJBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDNUMsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUV4RCxPQUFPLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDOUIsQ0FBQztBQU5ELGdEQU1DIn0=